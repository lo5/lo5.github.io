<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Docker-like thing for apps</title>
    <meta name="description" content="A web log about stuff.">
    <meta name="generator" content="Eleventy v1.0.1">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/prism-one-light.css">
    <link rel="stylesheet" href="/css/prism-diff.css">
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Wrong Technology">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Wrong Technology">
  </head>
  <body>
    <header>
      <h1 class="home"><a href="/">Wrong Technology</a></h1>
      <ul class="nav">
        <li class="nav-item"><a href="/">Home</a></li>
        <li class="nav-item"><a href="/about/">About</a></li>
        <li class="nav-item"><a href="/projects/">Projects</a></li>
        <li class="nav-item"><a href="https://www.linkedin.com/in/prithviprabhu/" target="_blank">LinkedIn</a></li>
        <li class="nav-item"><a href="https://github.com/lo5" target="_blank">Github</a></li>
        <li class="nav-item"><a href="https://twitter.com/CrunchingData" target="_blank">Twitter</a></li>
      </ul>
    </header>

    <main class="tmpl-post">
      <h1>A Docker-like thing for apps</h1>

<time datetime="2022-05-28">28 May 2022</time>

<p>A rough proposal for a shebang-meets-dockerfile thingy, so that a .py file can specify its dependencies, and a &quot;nitro run&quot; command can directly launch an app from a file or gist or code snippet anywhere on the interwebs.</p>
<h2 id="goal" tabindex="-1">Goal <a class="direct-link" href="#goal" aria-hidden="true">#</a></h2>
<p>Execute apps locally given one of:</p>
<ul>
<li><code>nitro run foo.py</code></li>
<li><code>nitro run https://gist.github.com/user/hash</code></li>
</ul>
<h2 id="notes" tabindex="-1">Notes <a class="direct-link" href="#notes" aria-hidden="true">#</a></h2>
<p>The deps for the app are self-contained in the <code>.py</code> file using a shebang-meets-dockerfile thingy:</p>
<pre class="language-py"><code class="language-py"><span class="token comment"># --- env ---</span><br><span class="token comment"># USE venv</span><br><span class="token comment"># RUN pip install pandas bokeh flask h2o-nitro</span><br><span class="token comment"># RUN FLASK_APP=app.py flask run</span><br><span class="token comment"># --- !env ---</span><br><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">pass</span></code></pre>
<p>or</p>
<pre class="language-py"><code class="language-py"><span class="token comment"># --- env ---</span><br><span class="token comment"># USE venv</span><br><span class="token comment"># FILE requirements.txt EOF</span><br><span class="token comment"># pandas==4.5</span><br><span class="token comment"># bokeh>=0.4.2</span><br><span class="token comment"># flask</span><br><span class="token comment"># h2o-nitro>0.8.2</span><br><span class="token comment"># EOF</span><br><span class="token comment"># RUN pip install -r requirements.txt</span><br><span class="token comment"># RUN FLASK_APP=app.py flask run</span><br><span class="token comment"># --- !env ---</span><br><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>    <span class="token keyword">pass</span></code></pre>
<p>Supported commands are</p>
<ul>
<li><code>USE</code> uses venv, conda, poetry, pipenv, etc.</li>
<li><code>FILE</code> creates a file relative to cwd.</li>
<li><code>RUN</code> executes a shell command.</li>
<li><code>GET</code> fetches a file given a relative or absolute URL.</li>
<li><code>COPY</code> copies, moves, renames local files.</li>
</ul>
<p>Link: <a href="https://github.com/h2oai/nitro/issues/5">https://github.com/h2oai/nitro/issues/5</a></p>


<div class="post-tags"><span><a href="/tags/nitro/" class="post-tag">#nitro</a> </span<span><a href="/tags/nitrogen/" class="post-tag">#nitrogen</a> </span
</div>
<div class="post-paging">
  <span>&laquo; <a href="/posts/bokeh-plugin/">Use Bokeh in Nitro apps</a></span>
  <span><a href="/posts/matplotlib-plugin/">Use Matplotlib in Nitro apps</a> &raquo;</span>
</div>


    </main>

    <footer>

    </footer>

    <!-- Current page: /posts/nitrogen-proposal/ -->
  </body>
</html>
